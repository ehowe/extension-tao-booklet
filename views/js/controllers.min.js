define("taoBooklet/controller/routes",[],function(){return{Booklet:{actions:{editBooklet:"controller/Booklet/editBooklet"}}}}),define("taoBooklet/controller/Booklet/editBooklet",["jquery","lodash","module","helpers","generis.tree.select"],function($,_,module,helpers,GenerisTreeSelectClass){function buildGroupsTree(container){var treeOptions=container.data();new GenerisTreeSelectClass("#"+treeOptions.actionId+"-tree",helpers._url("getData","GenerisTree","tao"),{actionId:treeOptions.actionId,saveUrl:treeOptions.saveUrl,saveData:{resourceUri:treeOptions.resourceUri,propertyUri:treeOptions.propertyUri},checkedNodes:treeOptions.checkedNodes,serverParameters:{openNodes:treeOptions.openNodes,rootNode:treeOptions.rootNode},saveCallback:function(){helpers._load(helpers.getMainContainerSelector(),helpers._url("editBooklet","Booklet","taoBooklet"),{uri:treeOptions.resourceUri})
},paginate:10})}return{start:function(){var $downloader=$("<iframe/>").hide();$("form").append($downloader),$(".btn-download").on("click",function(e){e.preventDefault();var $form=$(e.target).closest("form");$downloader.attr("src",helpers._url("download","Booklet","taoBooklet",{uri:$form.find('input[name="uri"]').val(),classUri:$form.find('input[name="classUri"]').val(),id:$form.find('input[name="id"]').val()}))}),buildGroupsTree($(".group-container"))}}});
//# sourceMappingURL=routes.js.map