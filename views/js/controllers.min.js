define("taoBooklet/controller/routes",[],function(){return{Booklet:{actions:{editBooklet:"controller/Booklet/editBooklet",wizard:"controller/Booklet/wizard"}}}}),define("taoBooklet/controller/Booklet/editBooklet",["jquery","lodash","module","helpers","generis.tree.select","layout/section"],function($,_,module,helpers,GenerisTreeSelectClass,section){function buildGroupsTree($container){var treeOptions=$container.data(),toggleTree=function(val){$container.toggle(val!==treeOptions.anonymous)},$radio=$('[name="'+treeOptions.anonymousClass+'"]');toggleTree($radio.filter(":checked").val()),$radio.on("change",function(e){toggleTree($(e.target).val())}),new GenerisTreeSelectClass("#"+treeOptions.actionId+"-tree",helpers._url("getData","GenerisTree","tao"),{actionId:treeOptions.actionId,saveUrl:treeOptions.saveUrl,saveData:{resourceUri:treeOptions.resourceUri,propertyUri:treeOptions.propertyUri},checkedNodes:treeOptions.checkedNodes,serverParameters:{openNodes:treeOptions.openNodes,rootNode:treeOptions.rootNode},saveCallback:function(){section.current().loadContentBlock(helpers._url("editBooklet","Booklet","taoBooklet"),{uri:treeOptions.resourceUri})
},paginate:10})}return{start:function(){var $downloader=$("<iframe/>").hide();$("form").append($downloader),$(".btn-download").on("click",function(e){e.preventDefault();var $form=$(e.target).closest("form");$downloader.attr("src",helpers._url("download","Booklet","taoBooklet",{uri:$form.find('input[name="uri"]').val(),classUri:$form.find('input[name="classUri"]').val(),id:$form.find('input[name="id"]').val()}))}),buildGroupsTree($(".group-container"))}}}),define("taoBooklet/controller/Booklet/wizard",["jquery"],function($){return{start:function(){var $form=$(".main-container ").find("form"),$radio=$('[name="'+$form.find("#anonymousClass").val()+'"]');$radio.is(":checked")||$radio.filter(":first").attr("checked",!0)
}}});
//# sourceMappingURL=routes.js.map